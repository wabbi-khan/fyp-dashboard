{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"E:/FYP/admin-dashboard/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"E:/FYP/admin-dashboard/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"E:/FYP/admin-dashboard/martfury-admin-react/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"E:\\\\FYP\\\\admin-dashboard\\\\martfury-admin-react\\\\pages\\\\employees-management\\\\index.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport ContainerDefault from \"~/components/layouts/ContainerDefault\";\nimport Link from \"next/link\";\nimport HeaderDashboard from \"~/components/shared/headers/HeaderDashboard\"; // import Axios from \"axios\";\n\nimport style from \"./style.module.css\";\nimport { collection, addDoc, getDocs, deleteDoc, doc } from \"firebase/firestore\";\nimport { database } from \"~/firebaseConfig\";\nvar employeeInstance = collection(database, \"employee\");\nimport Spinner from \"~/components/spinner/index\";\n\nvar DisplayUsers = function DisplayUsers(_ref) {\n  _s();\n\n  var ID = _ref.ID;\n\n  var _useState = useState([]),\n      users = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      searchTerm = _useState2[0],\n      setSearchTerm = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  useEffect(function () {\n    loadUsers();\n  }, []);\n\n  var loadUsers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var employees;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // const result = await Axios.get(\"http://localhost:3001/users\");\n              employees = [];\n              getDocs(employeeInstance).then(function (data) {\n                for (var i = 0; i < data.docs.length; i++) {\n                  var item = data.docs[i];\n                  employees.push(_objectSpread(_objectSpread({}, item.data()), {}, {\n                    id: item.id\n                  }));\n                  console.log(item.data());\n                }\n\n                setUser(employees);\n                setLoading(true); // console.log(data);\n              }); // setUser(result.data);\n              // console.log(result);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadUsers() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var deleteUser = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var deleteUser;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // await Axios.delete(`http://localhost:3001/users/${id}`);\n              deleteUser = doc(database, \"employee\", id);\n              _context2.next = 3;\n              return deleteDoc(deleteUser);\n\n            case 3:\n              loadUsers();\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteUser(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(ContainerDefault, {\n    title: \"Employees Manage\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderDashboard, {\n      title: \"Employees Management\",\n      description: \"Employees Listing \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Employees Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: style.input,\n            type: \"text\",\n            placeholder: \"Search Employee...\",\n            onChange: function onChange(event) {\n              setSearchTerm(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/employees-management/users/AddUser\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              \"class\": style.cssbuttons,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 24 24\",\n                width: \"24\",\n                height: \"24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"none\",\n                  d: \"M0 0h24v24H0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  fill: \"currentColor\",\n                  d: \"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add Employee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table border shadow mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"thead-dark \",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Mobile No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"CNIC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: loading ? users.filter(function (user) {\n            if (searchTerm == \"\") {\n              return user;\n            } else if (user.cnicNo.toLowerCase().includes(searchTerm.toLowerCase()) || user.name.toLowerCase().includes(searchTerm.toLowerCase()) || user.phone.toLowerCase().includes(searchTerm.toLowerCase()) || user.email.toLowerCase().includes(searchTerm.toLowerCase())) {\n              return user;\n            }\n          }).map(function (user, index) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: [\" \", index + 1, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", user.name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", user.phone, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", user.cnicNo, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", user.email, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", user.status, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/employees-management/users/viewUser/\" + user.id,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary mr-2\",\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/employees-management/users/\" + user.id,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-outline-primary mr-2\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger mr-2\",\n                  onClick: function onClick() {\n                    return deleteUser(user.id);\n                  },\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, _this);\n          }) : /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(DisplayUsers, \"+b6IK78qy5hY9z94ObrBh3HZC/A=\");\n\n_c = DisplayUsers;\nexport default DisplayUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayUsers\");","map":{"version":3,"sources":["E:/FYP/admin-dashboard/martfury-admin-react/pages/employees-management/index.jsx"],"names":["React","useEffect","useState","ContainerDefault","Link","HeaderDashboard","style","collection","addDoc","getDocs","deleteDoc","doc","database","employeeInstance","Spinner","DisplayUsers","ID","users","setUser","searchTerm","setSearchTerm","loading","setLoading","loadUsers","employees","then","data","i","docs","length","item","push","id","console","log","deleteUser","input","event","target","value","cssbuttons","filter","user","cnicNo","toLowerCase","includes","name","phone","email","map","index","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ContainerDefault from \"~/components/layouts/ContainerDefault\";\nimport Link from \"next/link\";\nimport HeaderDashboard from \"~/components/shared/headers/HeaderDashboard\";\n// import Axios from \"axios\";\nimport style from \"./style.module.css\";\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  deleteDoc,\n  doc,\n} from \"firebase/firestore\";\nimport { database } from \"~/firebaseConfig\";\nconst employeeInstance = collection(database, \"employee\");\nimport Spinner from \"~/components/spinner/index\";\n\nconst DisplayUsers = ({ ID }) => {\n  const [users, setUser] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const loadUsers = async () => {\n    // const result = await Axios.get(\"http://localhost:3001/users\");\n    let employees = [];\n\n    getDocs(employeeInstance).then((data) => {\n      for (let i = 0; i < data.docs.length; i++) {\n        const item = data.docs[i];\n        employees.push({ ...item.data(), id: item.id });\n        console.log(item.data());\n      }\n      setUser(employees);\n      setLoading(true);\n\n      // console.log(data);\n    });\n    // setUser(result.data);\n\n    // console.log(result);\n  };\n\n  const deleteUser = async (id) => {\n    // await Axios.delete(`http://localhost:3001/users/${id}`);\n    const deleteUser = doc(database, \"employee\", id);\n    await deleteDoc(deleteUser);\n    loadUsers();\n  };\n\n  return (\n    <ContainerDefault title='Employees Manage'>\n      <HeaderDashboard\n        title='Employees Management'\n        description='Employees Listing '\n      />\n      <div>\n        <h1>Employees Details</h1>\n        <div className='row'>\n          <div className='col-6'>\n            <input\n              className={style.input}\n              type='text'\n              placeholder='Search Employee...'\n              onChange={(event) => {\n                setSearchTerm(event.target.value);\n              }}\n            />\n          </div>\n          <div className='col-6'>\n            <Link href='/employees-management/users/AddUser'>\n              {/* <button className={style.btn}>Add Employee</button> */}\n              <button class={style.cssbuttons}>\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  viewBox='0 0 24 24'\n                  width='24'\n                  height='24'\n                >\n                  <path fill='none' d='M0 0h24v24H0z'></path>\n                  <path\n                    fill='currentColor'\n                    d='M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z'\n                  ></path>\n                </svg>\n                <span>Add Employee</span>\n              </button>\n            </Link>\n          </div>\n        </div>\n\n        <table className='table border shadow mt-4'>\n          <thead className='thead-dark '>\n            <tr>\n              <th scope='col'>#</th>\n              <th scope='col'>Name</th>\n              <th scope='col'>Mobile No</th>\n              <th scope='col'>CNIC</th>\n              <th scope='col'>Email</th>\n              <th scope='col'>Status</th>\n              <th scope='col'>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {loading ? (\n              users\n                .filter((user) => {\n                  if (searchTerm == \"\") {\n                    return user;\n                  } else if (\n                    user.cnicNo\n                      .toLowerCase()\n                      .includes(searchTerm.toLowerCase()) ||\n                    user.name\n                      .toLowerCase()\n                      .includes(searchTerm.toLowerCase()) ||\n                    user.phone\n                      .toLowerCase()\n                      .includes(searchTerm.toLowerCase()) ||\n                    user.email.toLowerCase().includes(searchTerm.toLowerCase())\n                  ) {\n                    return user;\n                  }\n                })\n                .map((user, index) => (\n                  <tr>\n                    <th scope='row'> {index + 1} </th>\n                    <td> {user.name} </td>\n                    <td> {user.phone} </td>\n                    <td> {user.cnicNo} </td>\n                    <td> {user.email} </td>\n                    <td> {user.status} </td>\n                    <td>\n                      <Link\n                        href={`/employees-management/users/viewUser/` + user.id}\n                      >\n                        <button className='btn btn-primary mr-2'>View</button>\n                      </Link>\n                      {/* <Link\n                    href='/employees-management/users/EditUser/[id]'\n                    as={`/employees-management/users/EditUser/${user?.id}`}\n                  > */}\n                      <Link href={`/employees-management/users/` + user.id}>\n                        <button className='btn btn-outline-primary mr-2'>\n                          Edit\n                        </button>\n                      </Link>\n                      {/* <Link href='#'> */}\n                      <button\n                        className='btn btn-danger mr-2'\n                        onClick={() => deleteUser(user.id)}\n                      >\n                        Delete\n                      </button>\n                      {/* </Link> */}\n                    </td>\n                  </tr>\n                ))\n            ) : (\n              <Spinner />\n            )}\n          </tbody>\n        </table>\n      </div>\n    </ContainerDefault>\n  );\n};\nexport default DisplayUsers;\n"]},"metadata":{},"sourceType":"module"}